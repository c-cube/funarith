<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make_full (funarith.Funarith__Simplex.Make_full)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">funarith</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Funarith__Simplex.Make_full</span></h1></header><div class="doc"><p>High-level simplex interface</p></div><h3 class="heading">Parameters</h3><div><div class="spec argument" id="argument-3-L"><a href="#argument-3-L" class="anchor"></a><div class="def argument"><code><a href="argument-3-L/index.html">L</a> : <a href="../../Funarith/Linear_expr/index.html#module-type-S">Funarith.Linear_expr.S</a><span class="keyword"> with </span><span class="keyword">type </span><a href="argument-3-L/Var/index.html#type-t">Var.t</a><span class="keyword"> = </span><a href="argument-2-V/index.html#type-t">V.t</a><span class="keyword"> and </span><span class="keyword">type </span><a href="argument-3-L/C/index.html#type-t">C.t</a><span class="keyword"> = </span><a href="argument-1-Q/index.html#type-t">Q.t</a></code></div><div class="doc"></div></div><div class="spec argument" id="argument-2-V"><a href="#argument-2-V" class="anchor"></a><div class="def argument"><code><a href="argument-2-V/index.html">V</a> : <a href="../index.html#module-type-VAR_GEN">VAR_GEN</a></code></div><div class="doc"></div></div><div class="spec argument" id="argument-1-Q"><a href="#argument-1-Q" class="anchor"></a><div class="def argument"><code><a href="argument-1-Q/index.html">Q</a> : <a href="../../Funarith/Rat/index.html#module-type-S">Funarith.Rat.S</a></code></div><div class="doc"></div></div></div><h3 class="heading">Signature</h3><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../../Funarith/Simplex_intf/index.html#module-type-S">Funarith.Simplex_intf.S</a></code></span></summary><div class="spec module" id="module-Q"><a href="#module-Q" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Q/index.html">Q</a> : <a href="../../Funarith/Rat/index.html#module-type-S">Funarith.Rat.S</a></code></div><div class="doc"><p>Rational number implementation</p></div></div><div class="spec type" id="type-var"><a href="#type-var" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>var</code><code></code><code></code></div><div class="doc"><p>The given type of the variables</p></div></div><div class="spec module" id="module-Var_map"><a href="#module-Var_map" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>Var_map : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Var_map">Var_map</a>.key<span class="keyword"> = </span><a href="index.html#type-var">var</a></code></div><div class="doc"><p>A map on variables</p></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>The type of a (possibly not solved) linear system</p></div></div><div class="spec type" id="type-cert"><a href="#type-cert" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>cert</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-cert.cert_var" class="anchored"><td class="def field"><a href="#type-cert.cert_var" class="anchor"></a><code>cert_var : <a href="index.html#type-var">var</a>;</code></td></tr><tr id="type-cert.cert_expr" class="anchored"><td class="def field"><a href="#type-cert.cert_expr" class="anchor"></a><code>cert_expr : (<a href="Q/index.html#type-t">Q.t</a><span class="keyword"> * </span><a href="index.html#type-var">var</a>) list;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>An unsatisfiability explanation is a couple <code class="code">(x, expr)</code>. If <code class="code">expr</code> is the
empty list, then there is a contradiction between two given bounds of <code class="code">x</code>.
Else, the explanation is an equality <code class="code">x = expr</code> that is valid
(it can be derived from the original equations of the system) from which a
bound can be deduced which contradicts an already given bound of the
system.</p></div></div><div class="spec type" id="type-res"><a href="#type-res" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>res</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-res.Solution" class="anchored"><td class="def constructor"><a href="#type-res.Solution" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Solution</span><span class="keyword"> of </span><a href="Q/index.html#type-t">Q.t</a> <a href="index.html#module-Var_map">Var_map</a>.t</code></td></tr><tr id="type-res.Unsatisfiable" class="anchored"><td class="def constructor"><a href="#type-res.Unsatisfiable" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Unsatisfiable</span><span class="keyword"> of </span><a href="index.html#type-cert">cert</a></code></td></tr></table><code></code></div><div class="doc"><p>Generic type returned when solving the simplex. A solution is a list of
bindings that satisfies all the constraints inside the system. If the
system is unsatisfiable, an explanation of type <code class="code">'cert</code> is returned.</p></div></div><h4>Simplex construction</h4><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>The empty system</p></div></div><div class="spec val" id="val-copy"><a href="#val-copy" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>copy : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Returns a copy of the given system</p></div></div><div class="spec val" id="val-add_eq"><a href="#val-add_eq" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_eq : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-var">var</a><span class="keyword"> * </span>(<a href="Q/index.html#type-t">Q.t</a><span class="keyword"> * </span><a href="index.html#type-var">var</a>) list) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">add_eq s (x, eq)</code> adds the equation <code class="code">x=eq</code> to <code class="code">s</code></p></div></div><div class="spec val" id="val-add_bounds"><a href="#val-add_bounds" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_bounds : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;strict_lower:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;strict_upper:bool <span class="keyword">&#8209;&gt;</span> (<a href="index.html#type-var">var</a><span class="keyword"> * </span><a href="Q/index.html#type-t">Q.t</a><span class="keyword"> * </span><a href="Q/index.html#type-t">Q.t</a>) <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">add_bounds (x, lower, upper)</code> adds to <code class="code">s</code>
the bounds <code class="code">lower</code> and <code class="code">upper</code> for the given variable <code class="code">x</code>.
If the bound is loose on one side
(no upper bounds for instance), the values <code class="code">Q.inf</code> and
<code class="code">Q.minus_inf</code> can be used. By default, in a system, all variables
have no bounds, i.e have lower bound <code class="code">Q.minus_inf</code> and upper bound
<code class="code">Q.inf</code>.
Optional parameters allow to make the the bounds strict. Defaults to false,
so that bounds are large by default.</p></div></div><div class="spec val" id="val-add_lower_bound"><a href="#val-add_lower_bound" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_lower_bound : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;strict:bool <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a> <span class="keyword">&#8209;&gt;</span> <a href="Q/index.html#type-t">Q.t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-add_upper_bound"><a href="#val-add_upper_bound" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_upper_bound : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;strict:bool <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-var">var</a> <span class="keyword">&#8209;&gt;</span> <a href="Q/index.html#type-t">Q.t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><h4>Simplex solving</h4><div class="spec val" id="val-solve"><a href="#val-solve" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>solve : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-res">res</a></code></div><div class="doc"><p><code class="code">solve s</code> solves the system <code class="code">s</code> and returns a solution, if one exists.
This function may change the internal representation of the system to
that of an equivalent one
(permutation of basic and non basic variables and pivot operation
on the tableaux).</p></div></div><div class="spec val" id="val-check_cert"><a href="#val-check_cert" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>check_cert : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-cert">cert</a> <span class="keyword">&#8209;&gt;</span> [ `Ok | `Bad_bounds of string<span class="keyword"> * </span>string | `Diff_not_0 of <a href="Q/index.html#type-t">Q.t</a> <a href="index.html#module-Var_map">Var_map</a>.t ]</code></div><div class="doc"><p>checks that the certificat indeed yields to a contradiction
in the current state of the simplex.</p><ul class="at-tag"><li><span class="at-tag return">Returns</span> <code class="code">`Ok</code> if the certificate is valid.</li></ul></div></div><div class="spec val" id="val-pp_cert"><a href="#val-pp_cert" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_cert : <a href="index.html#type-cert">cert</a> CCFormat.printer</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_full_state"><a href="#val-pp_full_state" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_full_state : <a href="index.html#type-t">t</a> CCFormat.printer</code></div><div class="doc"></div></div></details></div><div class="spec module" id="module-L"><a href="#module-L" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>L = <a href="index.html#argument-3-L">L</a></code></div><div class="doc"></div></div><div class="spec type" id="type-op"><a href="#type-op" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>op</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-op.Eq" class="anchored"><td class="def constructor"><a href="#type-op.Eq" class="anchor"></a><code><span class="keyword">| </span></code><code>`Eq</code></td></tr><tr id="type-op.Leq" class="anchored"><td class="def constructor"><a href="#type-op.Leq" class="anchor"></a><code><span class="keyword">| </span></code><code>`Leq</code></td></tr><tr id="type-op.Geq" class="anchored"><td class="def constructor"><a href="#type-op.Geq" class="anchor"></a><code><span class="keyword">| </span></code><code>`Geq</code></td></tr><tr id="type-op.Lt" class="anchored"><td class="def constructor"><a href="#type-op.Lt" class="anchor"></a><code><span class="keyword">| </span></code><code>`Lt</code></td></tr><tr id="type-op.Gt" class="anchored"><td class="def constructor"><a href="#type-op.Gt" class="anchor"></a><code><span class="keyword">| </span></code><code>`Gt</code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-constr"><a href="#type-constr" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a constr</code><code><span class="keyword"> = </span>[&lt; <a href="index.html#type-op">op</a> ]<span class="keyword"> as </span>a <a href="L/Constr/index.html#type-t">L.Constr.t</a></code><code></code></div><div class="doc"></div></div><div class="spec module" id="module-Problem"><a href="#module-Problem" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Problem/index.html">Problem</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"></div></div><div class="spec val" id="val-add_constr"><a href="#val-add_constr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_constr : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="index.html#type-constr">constr</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Add a constraint to a simplex state.</p></div></div><div class="spec val" id="val-add_problem"><a href="#val-add_problem" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_problem : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="Problem/index.html#type-t">Problem.t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Add a problem to a simplex state.</p></div></div></body></html>